<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spotify Clone - Music Streaming</title>
    <style>
        /* CSS Variables & Reset */
        :root {
            --bg-primary: #121212;
            --bg-secondary: #000000;
            --bg-card: #181818;
            --bg-hover: #282828;
            --accent: #1DB954;
            --accent-hover: #1ed760;
            --text-primary: #ffffff;
            --text-secondary: #b3b3b3;
            --border: #282828;
            --player-height: 90px;
            --sidebar-width: 240px;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: var(--bg-secondary);
            color: var(--text-primary);
            overflow: hidden;
            height: 100vh;
        }

        /* Scrollbar Styling */
        ::-webkit-scrollbar {
            width: 12px;
        }
        ::-webkit-scrollbar-track {
            background: var(--bg-primary);
        }
        ::-webkit-scrollbar-thumb {
            background-color: rgba(255,255,255,0.3);
            border-radius: 20px;
            border: 3px solid var(--bg-primary);
        }
        ::-webkit-scrollbar-thumb:hover {
            background-color: rgba(255,255,255,0.5);
        }

        /* Login Screen Overlay */
        #login-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(to bottom, #1e1e1e 0%, #000000 100%);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            transition: opacity 0.5s ease;
        }

        #login-screen.hidden {
            opacity: 0;
            pointer-events: none;
        }

        .spotify-logo-large {
            width: 120px;
            height: 120px;
            background-color: var(--accent);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 30px;
            box-shadow: 0 0 40px rgba(29, 185, 84, 0.3);
        }

        .spotify-logo-large svg {
            width: 60px;
            height: 60px;
            fill: white;
        }

        .login-btn {
            background-color: var(--accent);
            color: #000;
            border: none;
            padding: 16px 48px;
            border-radius: 30px;
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .login-btn:hover {
            background-color: var(--accent-hover);
            transform: scale(1.05);
            box-shadow: 0 10px 30px rgba(29, 185, 84, 0.3);
        }

        .login-text {
            margin-top: 20px;
            color: var(--text-secondary);
            font-size: 14px;
        }

        /* Main Layout */
        #app {
            display: grid;
            grid-template-columns: var(--sidebar-width) 1fr;
            grid-template-rows: 1fr var(--player-height);
            height: 100vh;
            opacity: 0;
            transition: opacity 0.5s ease;
        }

        #app.visible {
            opacity: 1;
        }

        /* Sidebar */
        .sidebar {
            background-color: var(--bg-secondary);
            padding: 24px 12px;
            display: flex;
            flex-direction: column;
            gap: 24px;
            overflow-y: auto;
        }

        .logo-container {
            padding: 0 12px;
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 18px;
        }

        .logo-icon {
            width: 40px;
            height: 40px;
            fill: white;
        }

        .logo-text {
            font-size: 24px;
            font-weight: 700;
            letter-spacing: -1px;
        }

        .nav-item {
            display: flex;
            align-items: center;
            gap: 16px;
            padding: 12px;
            color: var(--text-secondary);
            cursor: pointer;
            border-radius: 4px;
            transition: all 0.2s ease;
            text-decoration: none;
        }

        .nav-item:hover {
            color: var(--text-primary);
        }

        .nav-item.active {
            background-color: var(--bg-hover);
            color: var(--text-primary);
        }

        .nav-item svg {
            width: 24px;
            height: 24px;
            fill: currentColor;
        }

        .nav-item span {
            font-weight: 600;
            font-size: 14px;
        }

        /* Main Content */
        .main-content {
            background: linear-gradient(to bottom, #1e1e1e 0%, var(--bg-primary) 40%);
            overflow-y: auto;
            position: relative;
            padding-bottom: 40px;
        }

        .top-bar {
            position: sticky;
            top: 0;
            padding: 20px 32px;
            background-color: rgba(18, 18, 18, 0.9);
            backdrop-filter: blur(10px);
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 10;
        }

        .search-container {
            position: relative;
            width: 300px;
        }

        .search-input {
            width: 100%;
            padding: 12px 16px 12px 40px;
            border-radius: 20px;
            border: none;
            background-color: rgba(255,255,255,0.1);
            color: var(--text-primary);
            font-size: 14px;
            outline: none;
            transition: background-color 0.3s;
        }

        .search-input:focus {
            background-color: rgba(255,255,255,0.2);
        }

        .search-icon {
            position: absolute;
            left: 12px;
            top: 50%;
            transform: translateY(-50%);
            width: 18px;
            height: 18px;
            fill: var(--text-secondary);
        }

        .user-profile {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background-color: var(--bg-hover);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
        }

        .content-area {
            padding: 32px;
        }

        .section-title {
            font-size: 32px;
            font-weight: 700;
            margin-bottom: 24px;
        }

        .playlist-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 24px;
        }

        .card {
            background-color: var(--bg-card);
            border-radius: 8px;
            padding: 16px;
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.2s ease;
            position: relative;
        }

        .card:hover {
            background-color: var(--bg-hover);
            transform: translateY(-5px);
        }

        .card-image {
            width: 100%;
            aspect-ratio: 1;
            border-radius: 6px;
            overflow: hidden;
            margin-bottom: 16px;
            position: relative;
            box-shadow: 0 8px 24px rgba(0,0,0,0.5);
        }

        .card-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .play-button-overlay {
            position: absolute;
            bottom: 8px;
            right: 8px;
            width: 48px;
            height: 48px;
            background-color: var(--accent);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transform: translateY(10px);
            transition: all 0.3s ease;
            box-shadow: 0 8px 16px rgba(0,0,0,0.3);
        }

        .card:hover .play-button-overlay {
            opacity: 1;
            transform: translateY(0);
        }

        .play-button-overlay svg {
            width: 24px;
            height: 24px;
            fill: black;
            margin-left: 2px;
        }

        .card-title {
            font-weight: 700;
            font-size: 16px;
            margin-bottom: 4px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .card-description {
            color: var(--text-secondary);
            font-size: 14px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        /* Player Bar */
        .player-bar {
            background-color: var(--bg-secondary);
            border-top: 1px solid var(--border);
            grid-column: 1 / -1;
            display: grid;
            grid-template-columns: 1fr 2fr 1fr;
            align-items: center;
            padding: 0 16px;
            gap: 16px;
        }

        .now-playing {
            display: flex;
            align-items: center;
            gap: 14px;
            min-width: 180px;
        }

        .now-playing img {
            width: 56px;
            height: 56px;
            border-radius: 4px;
            object-fit: cover;
            box-shadow: 0 4px 12px rgba(0,0,0,0.4);
        }

        .track-info {
            display: flex;
            flex-direction: column;
            gap: 4px;
            overflow: hidden;
        }

        .track-name {
            font-size: 14px;
            font-weight: 600;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            color: var(--text-primary);
        }

        .track-artist {
            font-size: 12px;
            color: var(--text-secondary);
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .like-btn {
            background: none;
            border: none;
            color: var(--text-secondary);
            cursor: pointer;
            margin-left: 8px;
            padding: 4px;
        }

        .like-btn:hover {
            color: var(--text-primary);
        }

        .player-controls {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
            max-width: 600px;
            width: 100%;
            margin: 0 auto;
        }

        .control-buttons {
            display: flex;
            align-items: center;
            gap: 24px;
        }

        .control-btn {
            background: none;
            border: none;
            color: var(--text-secondary);
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .control-btn:hover {
            color: var(--text-primary);
            transform: scale(1.1);
        }

        .control-btn.play-pause {
            width: 40px;
            height: 40px;
            background-color: white;
            color: black;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .control-btn.play-pause:hover {
            transform: scale(1.05);
            background-color: #f0f0f0;
        }

        .control-btn svg {
            width: 20px;
            height: 20px;
            fill: currentColor;
        }

        .control-btn.play-pause svg {
            width: 16px;
            height: 16px;
        }

        .progress-container {
            width: 100%;
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 12px;
            color: var(--text-secondary);
            font-variant-numeric: tabular-nums;
        }

        .progress-bar {
            flex: 1;
            height: 4px;
            background-color: rgba(255,255,255,0.3);
            border-radius: 2px;
            position: relative;
            cursor: pointer;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background-color: var(--text-primary);
            border-radius: 2px;
            width: 0%;
            position: relative;
            transition: width 0.1s linear;
        }

        .progress-fill::after {
            content: '';
            position: absolute;
            right: -6px;
            top: 50%;
            transform: translateY(-50%);
            width: 12px;
            height: 12px;
            background-color: white;
            border-radius: 50%;
            opacity: 0;
            transition: opacity 0.2s;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }

        .progress-bar:hover .progress-fill::after {
            opacity: 1;
        }

        .volume-controls {
            display: flex;
            align-items: center;
            gap: 8px;
            justify-content: flex-end;
            min-width: 140px;
        }

        .volume-slider {
            width: 100px;
            height: 4px;
            -webkit-appearance: none;
            background-color: rgba(255,255,255,0.3);
            border-radius: 2px;
            outline: none;
            cursor: pointer;
        }

        .volume-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 12px;
            height: 12px;
            background-color: white;
            border-radius: 50%;
            cursor: pointer;
            transition: transform 0.1s;
        }

        .volume-slider::-webkit-slider-thumb:hover {
            transform: scale(1.2);
        }

        .volume-slider::-moz-range-thumb {
            width: 12px;
            height: 12px;
            background-color: white;
            border-radius: 50%;
            cursor: pointer;
            border: none;
        }

        /* Animations */
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(29, 185, 84, 0.4); }
            70% { box-shadow: 0 0 0 10px rgba(29, 185, 84, 0); }
            100% { box-shadow: 0 0 0 0 rgba(29, 185, 84, 0); }
        }

        .playing .play-pause {
            animation: pulse 2s infinite;
        }

        /* Mobile Responsive */
        @media (max-width: 768px) {
            #app {
                grid-template-columns: 1fr;
                grid-template-rows: 1fr var(--player-height) auto;
            }

            .sidebar {
                position: fixed;
                bottom: var(--player-height);
                left: 0;
                width: 100%;
                height: 60px;
                flex-direction: row;
                justify-content: space-around;
                padding: 0;
                background-color: rgba(0,0,0,0.9);
                backdrop-filter: blur(10px);
                border-top: 1px solid var(--border);
                z-index: 100;
            }

            .logo-container, .nav-item span {
                display: none;
            }

            .nav-item {
                padding: 8px;
            }

            .main-content {
                padding-bottom: 140px;
            }

            .playlist-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 16px;
            }

            .top-bar {
                padding: 16px;
            }

            .search-container {
                width: 200px;
            }

            .player-bar {
                grid-template-columns: 1fr 2fr;
            }

            .volume-controls {
                display: none;
            }

            .now-playing {
                min-width: 0;
            }

            .track-info {
                max-width: 100px;
            }
        }

        /* Utility classes */
        .hidden { display: none !important; }
    </style>
</head>
<body>

    <!-- Login Screen -->
    <div id="login-screen">
        <div class="spotify-logo-large">
            <svg viewBox="0 0 168 168" xmlns="http://www.w3.org/2000/svg">
                <path d="M83.996.277C37.747.277.253 37.77.253 84.019c0 46.251 37.494 83.741 83.743 83.741 46.254 0 83.744-37.49 83.744-83.741 0-46.246-37.49-83.738-83.745-83.738l.001-.004zm38.404 120.78a5.217 5.217 0 0 1-7.18 1.73c-19.662-12.01-44.414-14.73-73.564-8.07a5.222 5.222 0 0 1-6.249-3.93 5.213 5.213 0 0 1 3.926-6.25c31.9-7.291 59.263-4.15 81.337 9.34 2.46 1.51 3.24 4.72 1.73 7.18zm10.25-22.805c-1.89 3.075-5.91 4.045-8.98 2.155-22.51-13.839-56.823-17.846-83.448-9.764-3.453 1.043-7.1-.903-8.148-4.35a6.538 6.538 0 0 1 4.354-8.143c30.413-9.228 68.222-4.758 94.072 11.127 3.07 1.89 4.04 5.91 2.15 8.976v-.001zm.88-23.744c-26.99-16.031-71.52-17.505-97.289-9.684-4.138 1.255-8.514-1.081-9.768-5.219a7.835 7.835 0 0 1 5.221-9.771c29.581-8.98 78.756-7.245 109.83 11.202a7.823 7.823 0 0 1 2.74 10.733c-2.2 3.722-7.02 4.949-10.73 2.739z"/>
            </svg>
        </div>
        <button class="login-btn" onclick="login()">Log In</button>
        <p class="login-text">Music for everyone. Free access to millions of songs.</p>
    </div>

    <!-- Main App -->
    <div id="app">
        <!-- Sidebar -->
        <nav class="sidebar">
            <div class="logo-container">
                <svg class="logo-icon" viewBox="0 0 168 168" xmlns="http://www.w3.org/2000/svg">
                    <path d="M83.996.277C37.747.277.253 37.77.253 84.019c0 46.251 37.494 83.741 83.743 83.741 46.254 0 83.744-37.49 83.744-83.741 0-46.246-37.49-83.738-83.745-83.738l.001-.004zm38.404 120.78a5.217 5.217 0 0 1-7.18 1.73c-19.662-12.01-44.414-14.73-73.564-8.07a5.222 5.222 0 0 1-6.249-3.93 5.213 5.213 0 0 1 3.926-6.25c31.9-7.291 59.263-4.15 81.337 9.34 2.46 1.51 3.24 4.72 1.73 7.18zm10.25-22.805c-1.89 3.075-5.91 4.045-8.98 2.155-22.51-13.839-56.823-17.846-83.448-9.764-3.453 1.043-7.1-.903-8.148-4.35a6.538 6.538 0 0 1 4.354-8.143c30.413-9.228 68.222-4.758 94.072 11.127 3.07 1.89 4.04 5.91 2.15 8.976v-.001zm.88-23.744c-26.99-16.031-71.52-17.505-97.289-9.684-4.138 1.255-8.514-1.081-9.768-5.219a7.835 7.835 0 0 1 5.221-9.771c29.581-8.98 78.756-7.245 109.83 11.202a7.823 7.823 0 0 1 2.74 10.733c-2.2 3.722-7.02 4.949-10.73 2.739z"/>
                </svg>
                <span class="logo-text">Spotify</span>
            </div>
            
            <a href="#" class="nav-item active" onclick="navigate('home')">
                <svg viewBox="0 0 24 24"><path d="M12.5 3.247a1 1 0 0 0-1 0L4 7.577V20h5v-6a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v6h5V7.577l-7.5-4.33zm-2-1.732a3 3 0 0 1 3 0l7.5 4.33a2 2 0 0 1 1 1.732V21a1 1 0 0 1-1 1h-6a1 1 0 0 1-1-1v-6h-3v6a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7.577a2 2 0 0 1 1-1.732l7.5-4.33z"/></svg>
                <span>Home</span>
            </a>
            
            <a href="#" class="nav-item" onclick="navigate('search')">
                <svg viewBox="0 0 24 24"><path d="M10.533 1.279c-5.18 0-9.407 4.14-9.407 9.279s4.226 9.279 9.407 9.279c2.234 0 4.29-.77 5.907-2.058l4.353 4.353a1 1 0 1 0 1.414-1.414l-4.344-4.344a9.305 9.305 0 0 0 2.077-5.816c0-5.14-4.226-9.28-9.407-9.28zm-7.407 9.279c0-4.006 3.302-7.28 7.407-7.28s7.407 3.274 7.407 7.28-3.302 7.279-7.407 7.279-7.407-3.273-7.407-7.28z"/></svg>
                <span>Search</span>
            </a>
            
            <a href="#" class="nav-item" onclick="navigate('library')">
                <svg viewBox="0 0 24 24"><path d="M3 22a1 1 0 0 1-1-1V3a1 1 0 0 1 2 0v18a1 1 0 0 1-1 1zM15.5 2.134A1 1 0 0 0 14 3v18a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V6.464a1 1 0 0 0-.5-.866l-6-3.464zM9 2a1 1 0 0 0-1 1v18a1 1 0 1 0 2 0V3a1 1 0 0 0-1-1z"/></svg>
                <span>Your Library</span>
            </a>
        </nav>

        <!-- Main Content -->
        <main class="main-content">
            <div class="top-bar">
                <div class="search-container" id="search-bar" style="opacity: 0; pointer-events: none; transition: opacity 0.3s;">
                    <svg class="search-icon" viewBox="0 0 24 24"><path d="M10.533 1.279c-5.18 0-9.407 4.14-9.407 9.279s4.226 9.279 9.407 9.279c2.234 0 4.29-.77 5.907-2.058l4.353 4.353a1 1 0 1 0 1.414-1.414l-4.344-4.344a9.305 9.305 0 0 0 2.077-5.816c0-5.14-4.226-9.28-9.407-9.28zm-7.407 9.279c0-4.006 3.302-7.28 7.407-7.28s7.407 3.274 7.407 7.28-3.302 7.279-7.407 7.279-7.407-3.273-7.407-7.28z"/></svg>
                    <input type="text" class="search-input" id="search-input" placeholder="Search for songs, artists..." onkeyup="filterSongs()">
                </div>
                <div style="flex: 1;"></div>
                <div class="user-profile">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="white"><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/></svg>
                </div>
            </div>

            <div class="content-area">
                <h1 class="section-title" id="page-title">Made For You</h1>
                
                <div class="playlist-grid" id="playlist-grid">
                    <!-- Cards injected by JS -->
                </div>

                <div id="no-results" style="display: none; text-align: center; padding: 40px; color: var(--text-secondary);">
                    <svg width="64" height="64" viewBox="0 0 24 24" fill="currentColor" style="margin-bottom: 16px; opacity: 0.5;"><path d="M10.533 1.279c-5.18 0-9.407 4.14-9.407 9.279s4.226 9.279 9.407 9.279c2.234 0 4.29-.77 5.907-2.058l4.353 4.353a1 1 0 1 0 1.414-1.414l-4.344-4.344a9.305 9.305 0 0 0 2.077-5.816c0-5.14-4.226-9.28-9.407-9.28zm-7.407 9.279c0-4.006 3.302-7.28 7.407-7.28s7.407 3.274 7.407 7.28-3.302 7.279-7.407 7.279-7.407-3.273-7.407-7.28z"/></svg>
                    <p>No songs found matching your search.</p>
                </div>
            </div>
        </main>

        <!-- Player Bar -->
        <div class="player-bar" id="player-bar">
            <!-- Now Playing -->
            <div class="now-playing">
                <img src="" alt="Album Art" id="player-img" style="display: none;">
                <div class="track-info">
                    <div class="track-name" id="player-title">Select a song</div>
                    <div class="track-artist" id="player-artist">to start playing</div>
                </div>
                <button class="like-btn" onclick="toggleLike()">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" id="like-icon">
                        <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
                    </svg>
                </button>
            </div>

            <!-- Controls -->
            <div class="player-controls">
                <div class="control-buttons">
                    <button class="control-btn" onclick="prevSong()" title="Previous">
                        <svg viewBox="0 0 24 24"><path d="M6 6h2v12H6zm3.5 6l8.5 6V6z"/></svg>
                    </button>
                    
                    <button class="control-btn play-pause" onclick="togglePlay()" id="play-btn" title="Play/Pause">
                        <svg viewBox="0 0 24 24" id="play-icon"><path d="M8 5v14l11-7z"/></svg>
                        <svg viewBox="0 0 24 24" id="pause-icon" style="display: none;"><path d="M6 4h4v16H6V4zm8 0h4v16h-4V4z"/></svg>
                    </button>
                    
                    <button class="control-btn" onclick="nextSong()" title="Next">
                        <svg viewBox="0 0 24 24"><path d="M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z"/></svg>
                    </button>
                </div>

                <div class="progress-container">
                    <span id="current-time">0:00</span>
                    <div class="progress-bar" onclick="seek(event)">
                        <div class="progress-fill" id="progress-fill"></div>
                    </div>
                    <span id="duration">0:00</span>
                </div>
            </div>

            <!-- Volume -->
            <div class="volume-controls">
                <button class="control-btn" onclick="toggleMute()" style="min-width: 24px;">
                    <svg viewBox="0 0 24 24" id="volume-icon"><path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"/></svg>
                </button>
                <input type="range" class="volume-slider" id="volume-slider" min="0" max="100" value="70" oninput="setVolume(this.value)">
            </div>
        </div>
    </div>

    <!-- Audio Element -->
    <audio id="audio-player" preload="metadata"></audio>

    <script>
        // Sample Data - Using public domain music samples
        const songs = [
            {
                id: 1,
                title: "Creative Minds",
                artist: "Cosmos",
                album: "Chill Vibes",
                cover: "https://images.unsplash.com/photo-1614613535308-eb5fbd3d2c17?w=300&h=300&fit=crop",
                url: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3",
                duration: "6:12"
            },
            {
                id: 2,
                title: "Summer Walk",
                artist: "Nature Sounds",
                album: "Acoustic Dreams",
                cover: "https://images.unsplash.com/photo-1493225255756-d9584f8606e9?w=300&h=300&fit=crop",
                url: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3",
                duration: "6:46"
            },
            {
                id: 3,
                title: "Deep Focus",
                artist: "LoFi Studio",
                album: "Study Beats",
                cover: "https://images.unsplash.com/photo-1516280440614-37939bbacd81?w=300&h=300&fit=crop",
                url: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-3.mp3",
                duration: "5:55"
            },
            {
                id: 4,
                title: "Night Drive",
                artist: "Synthwave Boy",
                album: "Neon Lights",
                cover: "https://images.unsplash.com/photo-1619983081563-430f63602796?w=300&h=300&fit=crop",
                url: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-4.mp3",
                duration: "5:46"
            },
            {
                id: 5,
                title: "Morning Coffee",
                artist: "Jazz Cat",
                album: "Smooth Jazz",
                cover: "https://images.unsplash.com/photo-1511192336575-5a79af67a629?w=300&h=300&fit=crop",
                url: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-8.mp3",
                duration: "5:05"
            },
            {
                id: 6,
                title: "Mountain Top",
                artist: "Ambient One",
                album: "Nature",
                cover: "https://images.unsplash.com/photo-1514525253161-7a46d19cd819?w=300&h=300&fit=crop",
                url: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-15.mp3",
                duration: "5:40"
            }
        ];

        // State
        let currentSongIndex = 0;
        let isPlaying = false;
        let audio = document.getElementById('audio-player');
        let progressInterval;
        let currentFilter = '';

        // DOM Elements
        const playBtn = document.getElementById('play-btn');
        const playIcon = document.getElementById('play-icon');
        const pauseIcon = document.getElementById('pause-icon');
        const playerBar = document.getElementById('player-bar');
        const progressFill = document.getElementById('progress-fill');
        const currentTimeEl = document.getElementById('current-time');
        const durationEl = document.getElementById('duration');
        const playerImg = document.getElementById('player-img');
        const playerTitle = document.getElementById('player-title');
        const playerArtist = document.getElementById('player-artist');
        const playlistGrid = document.getElementById('playlist-grid');
        const searchBar = document.getElementById('search-bar');
        const searchInput = document.getElementById('search-input');
        const pageTitle = document.getElementById('page-title');
        const volumeSlider = document.getElementById('volume-slider');

        // Initialize
        audio.volume = 0.7;

        // Login Function
        function login() {
            document.getElementById('login-screen').classList.add('hidden');
            document.getElementById('app').classList.add('visible');
            renderSongs();
        }

        // Render Songs
        function renderSongs(filter = '') {
            playlistGrid.innerHTML = '';
            
            const filtered = songs.filter(song => 
                song.title.toLowerCase().includes(filter.toLowerCase()) ||
                song.artist.toLowerCase().includes(filter.toLowerCase())
            );

            if (filtered.length === 0) {
                document.getElementById('no-results').style.display = 'block';
            } else {
                document.getElementById('no-results').style.display = 'none';
                
                filtered.forEach((song, index) => {
                    const originalIndex = songs.findIndex(s => s.id === song.id);
                    const card = document.createElement('div');
                    card.className = 'card';
                    if (originalIndex === currentSongIndex && isPlaying) {
                        card.style.backgroundColor = 'var(--bg-hover)';
                    }
                    
                    card.innerHTML = `
                        <div class="card-image">
                            <img src="${song.cover}" alt="${song.title}">
                            <div class="play-button-overlay" onclick="playSong(${originalIndex})">
                                <svg viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
                            </div>
                        </div>
                        <div class="card-title">${song.title}</div>
                        <div class="card-description">${song.artist}</div>
                    `;
                    
                    card.onclick = (e) => {
                        if (!e.target.closest('.play-button-overlay')) {
                            playSong(originalIndex);
                        }
                    };
                    
                    playlistGrid.appendChild(card);
                });
            }
        }

        // Play Song
        function playSong(index) {
            currentSongIndex = index;
            const song = songs[index];
            
            audio.src = song.url;
            audio.load();
            
            playerImg.src = song.cover;
            playerImg.style.display = 'block';
            playerTitle.textContent = song.title;
            playerArtist.textContent = song.artist;
            durationEl.textContent = song.duration;
            
            audio.play();
            isPlaying = true;
            updatePlayButton();
            playerBar.classList.add('playing');
            
            // Update visual highlight
            renderSongs(currentFilter);
        }

        // Toggle Play/Pause
        function togglePlay() {
            if (!audio.src && songs.length > 0) {
                playSong(0);
                return;
            }
            
            if (isPlaying) {
                audio.pause();
                playerBar.classList.remove('playing');
            } else {
                audio.play();
                playerBar.classList.add('playing');
            }
            isPlaying = !isPlaying;
            updatePlayButton();
            renderSongs(currentFilter);
        }

        function updatePlayButton() {
            if (isPlaying) {
                playIcon.style.display = 'none';
                pauseIcon.style.display = 'block';
            } else {
                playIcon.style.display = 'block';
                pauseIcon.style.display = 'none';
            }
        }

        // Previous Song
        function prevSong() {
            let newIndex = currentSongIndex - 1;
            if (newIndex < 0) newIndex = songs.length - 1;
            playSong(newIndex);
        }

        // Next Song
        function nextSong() {
            let newIndex = currentSongIndex + 1;
            if (newIndex >= songs.length) newIndex = 0;
            playSong(newIndex);
        }

        // Progress Update
        audio.addEventListener('timeupdate', () => {
            if (audio.duration) {
                const progress = (audio.currentTime / audio.duration) * 100;
                progressFill.style.width = progress + '%';
                currentTimeEl.textContent = formatTime(audio.currentTime);
            }
        });

        // Seek
        function seek(e) {
            if (!audio.duration) return;
            const progressBar = e.currentTarget;
            const clickPosition = e.offsetX / progressBar.offsetWidth;
            audio.currentTime = clickPosition * audio.duration;
        }

        // Format Time
        function formatTime(seconds) {
            if (isNaN(seconds)) return '0:00';
            const mins = Math.floor(seconds / 60);
            const secs = Math.floor(seconds % 60);
            return `${mins}:${secs.toString().padStart(2, '0')}`;
        }

        // Auto next when ended
        audio.addEventListener('ended', () => {
            nextSong();
        });

        // Volume Control
        function setVolume(value) {
            audio.volume = value / 100;
            updateVolumeIcon(value);
        }

        function toggleMute() {
            if (audio.volume > 0) {
                audio.dataset.prevVolume = audio.volume;
                audio.volume = 0;
                volumeSlider.value = 0;
            } else {
                audio.volume = audio.dataset.prevVolume || 0.7;
                volumeSlider.value = (audio.volume * 100);
            }
            updateVolumeIcon(volumeSlider.value);
        }

        function updateVolumeIcon(value) {
            const icon = document.getElementById('volume-icon');
            if (value == 0) {
                icon.innerHTML = '<path d="M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73 4.27 3zM12 4L9.91 6.09 12 8.18V4z"/>';
            } else if (value < 50) {
                icon.innerHTML = '<path d="M18.5 12c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM5 9v6h4l5 5V4L9 9H5z"/>';
            } else {
                icon.innerHTML = '<path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"/>';
            }
        }

        // Filter Songs
        function filterSongs() {
            currentFilter = searchInput.value;
            renderSongs(currentFilter);
        }

        // Navigation
        function navigate(page) {
            document.querySelectorAll('.nav-item').forEach(el => el.classList.remove('active'));
            event.currentTarget.classList.add('active');
            
            if (page === 'search') {
                searchBar.style.opacity = '1';
                searchBar.style.pointerEvents = 'all';
                searchInput.focus();
                pageTitle.textContent = 'Search';
                playlistGrid.innerHTML = '';
                document.getElementById('no-results').style.display = 'none';
            } else if (page === 'library') {
                searchBar.style.opacity = '0';
                searchBar.style.pointerEvents = 'none';
                pageTitle.textContent = 'Your Library';
                renderLikedSongs();
            } else {
                searchBar.style.opacity = '0';
                searchBar.style.pointerEvents = 'none';
                pageTitle.textContent = 'Made For You';
                currentFilter = '';
                searchInput.value = '';
                renderSongs();
            }
        }

        // Fake Liked Songs Library
        let likedSongs = [];
        function toggleLike() {
            const icon = document.getElementById('like-icon');
            if (icon.getAttribute('fill') === 'none') {
                icon.setAttribute('fill', '#1DB954');
                icon.setAttribute('stroke', '#1DB954');
                likedSongs.push(currentSongIndex);
            } else {
                icon.setAttribute('fill', 'none');
                icon.setAttribute('stroke', 'currentColor');
                likedSongs = likedSongs.filter(i => i !== currentSongIndex);
            }
        }

        function renderLikedSongs() {
            playlistGrid.innerHTML = '';
            if (likedSongs.length === 0) {
                document.getElementById('no-results').style.display = 'block';
                document.querySelector('#no-results p').textContent = 'No liked songs yet. Click the heart on any playing song!';
            } else {
                document.getElementById('no-results').style.display = 'none';
                likedSongs.forEach(index => {
                    const song = songs[index];
                    // Similar card creation as renderSongs but for liked
                    const card = document.createElement('div');
                    card.className = 'card';
                    card.innerHTML = `
                        <div class="card-image">
                            <img src="${song.cover}" alt="${song.title}">
                            <div class="play-button-overlay" onclick="playSong(${index})">
                                <svg viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
                            </div>
                        </div>
                        <div class="card-title">${song.title}</div>
                        <div class="card-description">${song.artist}</div>
                    `;
                    playlistGrid.appendChild(card);
                });
            }
        }

        // Handle audio metadata loaded to show duration
        audio.addEventListener('loadedmetadata', () => {
            durationEl.textContent = formatTime(audio.duration);
        });

        // Keyboard shortcuts
        document.addEventListener('keydown', (e) => {
            if (e.code === 'Space' && e.target.tagName !== 'INPUT') {
                e.preventDefault();
                togglePlay();
            } else if (e.code === 'ArrowRight' && e.ctrlKey) {
                nextSong();
            } else if (e.code === 'ArrowLeft' && e.ctrlKey) {
                prevSong();
            }
        });
    </script>
</body>
</html>